---
const { current } = Astro.props;
---

<nav class="navbar">
  <a href="/">
    <img class="site-logo" src="/assets/jj.png" alt="JJ" />
  </a>

  <button class="burger" aria-label="Abrir menú" aria-expanded="false" type="button">☰</button>

  <div class="nav-links">
    <a href="/" class:list={{ selected: current === "home" }}>Inicio</a>
    <a href="/servicios" class:list={{ selected: current === "servicios" }}>Servicios</a>
    <a href="/casos" class:list={{ selected: current === "casos" }}>Casos</a>
    <a href="/plugins" class:list={{ selected: current === "plugins" }}>Plugins</a>
    <a href="/contacto" class:list={{ selected: current === "contacto" }}>Contacto</a>
  </div>
</nav>

<script type="module">
  import { setupNav } from "../scripts/nav.js";

  const initNav = () => {
    document.body.classList.add("is-loaded");
    setupNav();
  };

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initNav, { once: true });
  } else {
    initNav();
  }
</script>
