---
import { getLangFromUrl, useTranslations, getLangPrefix } from '../lib/i18n/utils';

interface Props {
  title: string;
  text: string;
  button?: string;
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const prefix = getLangPrefix(lang);

const {
  title,
  text,
  button = t('cta.default')
} = Astro.props;
---

<section class="contact-cta">
  <h2>{title}</h2>
  <p>{text}</p>
  <a class="cta" href={`${prefix}/contacto`}>{button}</a>
</section>
