---
const { current } = Astro.props;
---

<nav class="navbar">
  <a href="/">
    <img class="site-logo" src="/assets/jj.png" alt="JJ" />
  </a>

  <button class="burger" aria-label="Abrir menú" aria-expanded="false" aria-controls="site-navigation" type="button">☰</button>

  <div id="site-navigation" class="nav-links" role="navigation">
    <a href="/" class:list={{ selected: current === "home" }}>Inicio</a>
    <a href="/servicios" class:list={{ selected: current === "servicios" }}>Servicios</a>
    <a href="/casos" class:list={{ selected: current === "casos" }}>Casos</a>
    <a href="/plugins" class:list={{ selected: current === "plugins" }}>Plugins</a>
    <a href="/contacto" class:list={{ selected: current === "contacto" }}>Contacto</a>
  </div>
</nav>

<script>
  // Fallback loader: if the external nav script didn't run, load it.
  if (typeof window !== 'undefined' && !window.__jj_nav_delegated) {
    const existing = document.querySelector('script[src="/scripts/nav.js"]');
    if (!existing) {
      const s = document.createElement('script');
      s.src = '/scripts/nav.js';
      s.defer = true;
      document.head.appendChild(s);
    }
  }
</script>




