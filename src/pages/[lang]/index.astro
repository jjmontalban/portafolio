---
import Layout from "../../layouts/Layout.astro";
import ContactCTA from "../../components/ContactCTA.astro";
import { getLangFromUrl, useTranslations } from '../../i18n/utils';
import { languages } from '../../i18n/ui';

export function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({
    params: { lang },
  }));
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout
  title={t('meta.title')}
  page="page-home"
  description={t('meta.description')}
>
  <div class="container">

    <!-- HERO -->
    <section>
      <h1>Joaquín J. Montalbán</h1>

      <p>
        {t('home.hero.intro')}
      </p>
      <p>{t('home.hero.colaboro')}</p>

      <a class="cta cta-primary" href={`/${lang}/contacto`}>{t('home.hero.cta')}</a>
    </section>

    <!-- SERVICIOS -->
    <section>
      <h2>{t('home.servicios.title')}</h2>
      <p>
        {t('home.servicios.desc')}
        <a class="section-link section-link-services" href={`/${lang}/servicios`}>
          {t('home.servicios.link')}
        </a>
      </p>
    </section>

    <!-- PLUGINS / HERRAMIENTAS -->
    <section>
      <h2>{t('home.plugins.title')}</h2>
      <p>
        {t('home.plugins.desc')}
        <a class="section-link section-link-plugins" href={`/${lang}/plugins`}>
          {t('home.plugins.link')}
        </a>
      </p>
    </section>

    <!-- CASOS -->
    <section>
      <h2>{t('home.casos.title')}</h2>
      <p>
        {t('home.casos.desc')}
        <a class="section-link section-link-cases" href={`/${lang}/casos`}>
          {t('home.casos.link')}
        </a>
      </p>
    </section>

    <!-- CTA FINAL -->
    <ContactCTA
      title={t('home.cta.title')}
      text={t('home.cta.text')}
    />

  </div>
</Layout>
