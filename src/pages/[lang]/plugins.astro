---
import Layout from "../../layouts/Layout.astro";
import ContactCTA from "../../components/ContactCTA.astro";
import { wordpress, sitio, github } from "../../lib/icons";
import { getLangFromUrl, useTranslations } from '../../i18n/utils';
import { languages } from '../../i18n/ui';

export function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({
    params: { lang },
  }));
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout
  title={t('plugins.meta.title')}
  page="page-plugins"
  description={t('plugins.meta.description')}
>
  <div class="container">
    <h1>{t('plugins.title')}</h1>

    <p>{t('plugins.lead')}</p>

    <section class="plugins-grid">

        <!-- WooCommerce Quantity -->
        <article class="plugin-card">
          <img src="/images/plugins/plugin-quantity-settings-1.jpg" alt="Woocommerce Quantity" class="plugin-image" />

          <div class="plugin-body">
            <h2>{t('plugins.wooQuantity.title')}</h2>

            <p class="plugin-desc">
              {t('plugins.wooQuantity.desc')}
            </p>

            <div>
              <a class="plugin-link-icon" href="https://github.com/jjmontalban/woocommerce-quantity-settings" target="_blank">
                <svg {...github.attributes} set:html={github.body} />
                <span class="sr-only">GitHub</span>
              </a>
              <a class="plugin-link-icon" href="https://wordpress.org/plugins/product-quantity-settings/" target="_blank" class="plugin-link">
                <svg {...wordpress.attributes} set:html={wordpress.body} />
                <span class="sr-only">WordPress</span>
              </a>
            </div>

          </div>
        </article>

        <!-- EU VAT Number -->
        <article class="plugin-card">
          <img src="/images/plugins/eu-vat-number.jpg" alt="EU VAT Number" class="plugin-image" />
          <div class="plugin-body">

            <h2>{t('plugins.euVat.title')}</h2>
            <p class="plugin-desc">
              {t('plugins.euVat.desc')}
            </p>

            <div>
              <a href="https://github.com/jjmontalban/simple-eu-vat-number-for-woocommerce" target="_blank" class="plugin-link-icon">
                <svg {...github.attributes} set:html={github.body} />
                <span class="sr-only">GitHub</span>
              </a>
              <a href="https://wordpress.org/plugins/simple-eu-vat-number-for-woocommerce/" target="_blank" class="plugin-link-icon">
                <svg {...wordpress.attributes} set:html={wordpress.body} />
                <span class="sr-only">WordPress</span>
              </a>
            </div>

          </div>
        </article>

        <!-- Idealista Feed -->
        <article class="plugin-card">
          <img src="/images/plugins/idealista-feed.jpg" alt="Idealista Feed" class="plugin-image" />

          <div class="plugin-body">

            <h2>{t('plugins.idealista.title')}</h2>
            <p class="plugin-desc">
              {t('plugins.idealista.desc')}
            </p>

            <div>
              <a href="https://github.com/jjmontalban/idealista-feed" target="_blank" class="plugin-link-icon">
                <svg {...github.attributes} set:html={github.body} />
                <span class="sr-only">GitHub</span>
              </a>
              <a href="https://wordpress.org/plugins/properties-feed-for-idealista/" target="_blank" class="plugin-link-icon">
                <svg {...wordpress.attributes} set:html={wordpress.body} />
                <span class="sr-only">WordPress</span>
              </a>
            </div>

          </div>

        </article>

        <!-- PS WhatsApp -->
        <article class="plugin-card">
          <img src="/images/casos/galacticblum-1.webp" alt="PS WhatsApp" class="plugin-image" />

          <div class="plugin-body">
            <h2>{t('plugins.psWhatsapp.title')}</h2>
            <p class="plugin-desc">{t('plugins.psWhatsapp.desc')}</p>

            <div>
              <a href="#" target="_blank" class="plugin-link-icon">
                <svg {...github.attributes} set:html={github.body} />
                <span class="sr-only">GitHub</span>
              </a>
            </div>
          </div>

        </article>

        <!-- Filmder -->
        <article class="plugin-card">

          <img src="/images/plugins/filmder.jpg" alt="Filmder" class="plugin-image" />

          <div class="plugin-body">
            <h2>{t('plugins.filmder.title')}</h2>
            <p class="plugin-desc">{t('plugins.filmder.desc')}</p>

            <div>
              <a href="https://github.com/jjmontalban/filmder-front" target="_blank" class="plugin-link-icon">
                <svg {...github.attributes} set:html={github.body} />
                <span class="sr-only">GitHub</span>
              </a>
              <a href="https://github.com/jjmontalban/filmder-back" target="_blank" class="plugin-link-icon">
                <svg {...github.attributes} set:html={github.body} />
                <span class="sr-only">GitHub</span>
              </a>
              <a href="https://filmder-front-jjmontalban.vercel.app/" target="_blank" class="plugin-link-icon">
                <svg {...sitio.attributes} set:html={sitio.body} />
                <span class="sr-only">Web</span>
              </a>
            </div>

          </div>

        </article>

    </section>

    <ContactCTA
      title={t('plugins.cta.title')}
      text={t('plugins.cta.text')}
      button={t('plugins.cta.button')}
    />
  </div>
</Layout>
